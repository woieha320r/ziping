# 历法

### 节气
```text
是干支历年月的依据。古以昏见北斗星指向来确定，现以太阳黄经度数确定，基本一致。
```

### 历法
```text
· 农业活动依据阴阳合历，命理依据干支历。
· 自殷商至清末3000多年，历法数十改，制历逾百家，除太平天国天历外，皆阴阳合历。辛亥革命后改行民国元年格里历，新中国改行公元纪年格里历，但仍由南京
紫金台确定阴阳合历。在干支历的换算上，格里历相比农历更方便。
```

#### 阴阳合历
```text
· 年长是回归年，平均365.2422天。
· 月长依据朔望月，平均29.530588天，但12个朔望月的天数比回归年少10.875144天，所以要置闰。以二十四节气作为确定月名月序与设置闰月的凭籍。月亮存
在循环的视觉变化：完全不见->西侧显现->圆月->西侧欠缺->完全不见。这一个周期被称为“朔望月”，完全不见的那天称“朔日”。
· 日长依据太阳视运动形成的昼夜。
```

#### 干支历
```text
· 以立春为岁首，所以年长是回归年。民间会将年支换为生肖，藏族会同时配合天干，如戊寅年生肖表示为土虎。
· 节气交节日为月首，寅正，节气实际反映的是太阳的位置，那么干支历的月也和太阳位置相关。
· 日长依据太阳视运动形成的昼夜。一日分十二时辰，子初换日：23:00。
· 所以干支历的年月日皆以太阳为依据，是纯阳历。
```

#### 格里历 -> 干支历
```text
· 年：第 (格里历年份-3)%10 个天干 + 第 (格里历年份+7)%12 个地支，即为格里历年份立春日至下个格里历年份立春日的干支年。
· 月：第(年干次序x2+月支次序)%10 个天干，即为月干。
· 日：找一个知道对应干支日的格里日作为基准，以六十甲子次序向前或向后数。比如格里历1900年1月1日是甲戌日，那么格里历1900年1月4日就是丁丑日。
· 时：23:00为子时始，向前推至甲子日，甲子日的子时是甲子时，向后依照六十花甲子排列。
```